body {
  background-color: #d4433e;
  margin: 0;
  padding: 0;
}

.main {
  background-color: #d4433e;
}

.banner {
  position: relative;
  width: 100%;
}

.banner img {
  display: block;
  /* 移除圖片底部可能的多餘空間 */
  width: 100%;
  height: auto;
}

/* picture 決定高度 */
.banner-bg img {
  width: 100%;
  height: auto;
  display: block;
}

/* 糖果共同設定 */
.banner-candy {
  position: absolute;
  transform-box: fill-box;
  transform-origin: center center;
  /* transition: transform 0.6s ease; */
  pointer-events: auto;
  /* 開啟鼠標互動，不要的時候none */
  animation: wiggle 1.6s ease-in-out infinite;
}

/* 滑鼠靠近 */
.banner-candy:hover {
  animation: spin 1.2s infinite linear;
}

@keyframes wiggle {
  0% {
    transform: rotate(0deg);
  }

  25% {
    transform: rotate(8deg);
  }

  50% {
    transform: rotate(-8deg);
  }

  75% {
    transform: rotate(6deg);
  }

  100% {
    transform: rotate(0deg);
  }
}

/* 電腦 糖果位置設定 */
@media (min-width: 1200px) {
  .banner-candy.c1 {
    position: absolute;
    top: 12%;
    left: 5%;
    transform: translate(0%, 0%);
    width: 20%;
    height: auto;
  }

  .banner-candy.c2 {
    position: absolute;
    top: 10%;
    left: 30%;
    transform: translate(0%, 0%);
    width: 10%;
    height: auto;
  }

  .banner-candy.c3 {
    position: absolute;
    top: 7%;
    left: 50%;
    transform: translate(0%, 0%);
    width: 25%;
    height: auto;
  }

  .banner-candy.c4 {
    position: absolute;
    top: 10%;
    left: 80%;
    transform: translate(0%, 0%);
    width: 13%;
    height: auto;
  }

  .banner-candy.c5 {
    position: absolute;
    top: 55%;
    left: 75%;
    transform: translate(0%, 0%);
    width: 18%;
    height: auto;
  }

  .banner-candy.c6 {
    position: absolute;
    top: 70%;
    left: 53%;
    transform: translate(0%, 0%);
    width: 18%;
    height: auto;
  }

  .banner-candy.c7 {
    position: absolute;
    top: 70%;
    left: 35%;
    transform: translate(0%, 0%);
    width: 16%;
    height: auto;
  }

  .banner-candy.c8 {
    position: absolute;
    top: 62%;
    left: 18%;
    transform: translate(0%, 0%);
    width: 12%;
    height: auto;
  }

  .banner-candy.c9 {
    position: absolute;
    top: 52%;
    left: 5%;
    transform: translate(0%, 0%);
    width: 13%;
    height: auto;
  }
}

/* 平板 糖果位置設定 */
@media (max-width: 1199px) and (min-width: 768px) {
  .banner-candy.c1 {
    position: absolute;
    top: 12%;
    left: 5%;
    transform: translate(0%, 0%);
    width: 25%;
    height: auto;
    transform-origin: center center;
  }

  .banner-candy.c2 {
    position: absolute;
    top: 13%;
    left: 33%;
    transform: translate(0%, 0%);
    width: 13%;
    height: auto;
  }

  .banner-candy.c3 {
    position: absolute;
    top: 7%;
    left: 50%;
    transform: translate(0%, 0%);
    width: 30%;
    height: auto;
  }

  .banner-candy.c4 {
    position: absolute;
    top: 15%;
    left: 80%;
    transform: translate(0%, 0%);
    width: 16%;
    height: auto;
  }

  .banner-candy.c5 {
    position: absolute;
    top: 55%;
    left: 78%;
    transform: translate(0%, 0%);
    width: 20%;
    height: auto;
  }

  .banner-candy.c6 {
    position: absolute;
    top: 73%;
    left: 53%;
    transform: translate(0%, 0%);
    width: 25%;
    height: auto;
  }

  .banner-candy.c7 {
    position: absolute;
    top: 70%;
    left: 33%;
    transform: translate(0%, 0%);
    width: 20%;
    height: auto;
  }

  .banner-candy.c8 {
    position: absolute;
    top: 62%;
    left: 13%;
    transform: translate(0%, 0%);
    width: 17%;
    height: auto;
  }

  .banner-candy.c9 {
    position: absolute;
    top: 43%;
    left: 3%;
    transform: translate(0%, 0%);
    width: 17%;
    height: auto;
  }
}

/* 手機 糖果位置設定 */
@media (max-width: 767px) {
  /* c7 */
  .banner-candy.c1 {
    position: absolute;
    top: 60%;
    left: 55%;
    transform: translate(0%, 0%);
    width: 40%;
    height: auto;
    transform-origin: center center;
  }

  /* c5 */
  .banner-candy.c2 {
    position: absolute;
    top: 25%;
    left: 70%;
    transform: translate(0%, 0%);
    width: 23%;
    height: auto;
  }

  /* c9 */
  .banner-candy.c3 {
    position: absolute;
    top: 77%;
    left: 25%;
    transform: translate(0%, 0%);
    width: 53%;
    height: auto;
  }

  /* c8 */
  .banner-candy.c4 {
    position: absolute;
    top: 70%;
    left: 5%;
    transform: translate(0%, 0%);
    width: 24%;
    height: auto;
  }

  /* c4 */
  .banner-candy.c5 {
    position: absolute;
    top: 23%;
    left: 32%;
    transform: translate(0%, 0%);
    width: 33%;
    height: auto;
  }

  /* c6 */
  .banner-candy.c6 {
    position: absolute;
    top: 60%;
    left: 13%;
    transform: translate(0%, 0%);
    width: 35%;
    height: auto;
  }

  /* c1 */
  .banner-candy.c7 {
    position: absolute;
    top: 7%;
    left: 12%;
    transform: translate(0%, 0%);
    width: 33%;
    height: auto;
  }

  /* c2 */
  .banner-candy.c8 {
    position: absolute;
    top: 5%;
    left: 57%;
    transform: translate(0%, 0%);
    width: 25%;
    height: auto;
  }

  /* c3 */
  .banner-candy.c9 {
    position: absolute;
    top: 23%;
    left: 5%;
    transform: translate(0%, 0%);
    width: 25%;
    height: auto;
  }
}
/* 標題位置設定 */
.banner-anim {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.banner-anim.tablet,
.banner-anim.mobile {
  display: none;
}

.banner-anim.desktop {
  display: block;
}

@media (max-width: 1199px) and (min-width: 768px) {

  .banner-anim.desktop,
  .banner-anim.mobile {
    display: none;
  }

  .banner-anim.tablet {
    display: block;
  }
}

/* 手機 */
@media (max-width: 767px) {

  .banner-anim.desktop,
  .banner-anim.tablet {
    display: none;
  }

  .banner-anim.mobile {
    display: block;
  }
}

.title {
  opacity: 0;
  transform: translateY(20px);
  transform-box: fill-box;
  transform-origin: center;
}

body.page-loaded .title {
  animation: fadeUp 0.8s ease-out forwards;
}

/* 重新設定延遲時間 (Delay) */
body.page-loaded .t1 {
  animation-delay: 0.6s; /* 第一行字 */
}

body.page-loaded .t2 {
  animation-delay: 0.8s; /* 第二行字 */
}

body.page-loaded .t3 {
  animation-delay: 1s; /* 第三行字 */
}

body.page-loaded .t4 {
  animation-delay: 1.2s; /* 第四行字 */
}

@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.product-row {
  display: grid;
  grid-template-columns: 1fr;
  gap: 24px;
  padding: 40px 16px 80px;
  justify-items: center;
}

@media (max-width: 767px) {
  .product-row {
    gap: 36px 24px;
    padding: 40px 16px 20px;
  }

  .product-card {
    margin-bottom: 12px;
  }
}

@media (min-width: 768px) {
  .product-row {
    grid-template-columns: repeat(2, 1fr);
    padding: 60px 32px;
    gap: 80px 32px;
  }
}

@media (min-width: 1200px) {
  .product-row {
    grid-template-columns: repeat(3, 1fr);
    gap: 120px 30px;

    /* 限制整個商品區域的最大寬度，防止在大螢幕散太開 */
    max-width: 1050px;
    margin: 0 auto;
    /* 確保縮小後的容器依然在網頁中間 */
    padding: 80px 0;
  }
}

.product-card {
  width: 100%;
  max-width: 290px;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;

  /* 初始狀態 */
  opacity: 0;
  transform: translateY(30px);

  transition:
    opacity 0.5s ease,
    transform 0.5s ease;
}

/* 出現後 */
.product-card.show {
  opacity: 1;
  transform: translateY(0);
}

/* 文字在上面 */
.product-card p {
  margin: 0 0 10px 0;
  font-weight: 600;
  font-size: 22px;
  color: #fdffe9;
  letter-spacing: 2px;
}

/* 圖片固定大小 */
.product-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 8px;
  transition: transform 0.5s ease;
  /* 讓圖片放大縮小有動畫效果 */
}

/* 圖片內容容器：用來作為浮層的定位參考點，並控制溢出隱藏 */
.product-content {
  width: 100%;
  max-width: 290px;
  height: 341px;
  position: relative;
  overflow: visible;
  perspective: 1000px;
  /* 3D 透視距離，讓翻轉更有立體感 */
  cursor: pointer;
  /* 讓滑鼠變成手指形狀，提示可點擊 */
}

/* 內部旋轉容器 */
.flip-box-inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  transition: transform 0.6s;
  /* 翻轉動畫時間 */
  transform-style: preserve-3d;
  /* 保持 3D 空間 */
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

/* 當被加入 .flipped class 時，旋轉 180 度 */
.product-content.flipped .flip-box-inner {
  transform: rotateY(180deg);
}

/* 正面與背面的共同設定 */
.flip-front,
.flip-back {
  position: absolute;
  width: 100%;
  height: 100%;
  -webkit-backface-visibility: hidden;
  /* Safari 支援 */
  backface-visibility: hidden;
  /* 隱藏背面 */
  border-radius: 8px;
  /* 圓角設定在面層 */
  overflow: hidden;
  /* 確保圖片不溢出圓角 */
}

/* 正面樣式 */
.flip-front {
  background-color: transparent;
  z-index: 2;
}

/* 確保圖片填滿正面 */
.flip-front img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* 背面樣式 */
.flip-back {
  background-color: #b03530;
  color: #FDFFE9;
  transform: rotateY(180deg);
  /* 預先旋轉180度 */
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  /* 內距避免文字貼在邊上 */
  box-sizing: border-box;
  border: 2px solid #FDFFE9;
}

/* 背面文字樣式 */
.flip-back .product-desc p {
  font-size: 18px;
  line-height: 1.6;
  margin: 0;
  font-weight: 500;
}


.product-desc {
  margin-top: 12px;
  font-size: 15px;
  color: #FDFFE9;
  line-height: 1.4;
}

@media (hover: hover) {
  .product-card:hover {
    transform: translateY(-5px);
  }

  .product-card:hover img {
    transform: scale(1.05);
  }
}


.product-line {
  width: 90%;
  max-width: calc(290px * 3 + 60px * 2);
  height: 5px;
  background-color: #FDFFE9;
  border: none;
  margin: 10px auto 0;
  border-radius: 10px;
}

/* 更多商品按鈕容器 */
.load-more-container {
  display: none;
  justify-content: center;
  /* 這裡的 40px 數字越小按鈕越往上 */
  margin: 20px auto 60px;
  padding: 0;
  transition: opacity 0.3s ease;
}


/* 當按鈕被點擊後，先讓它變透明，而不是直接消失 */
.load-more-container.fade-out {
  opacity: 0;
  pointer-events: none;
}

/* 跳抖動畫 */
@keyframes heartBeat {
  0% {
    transform: scale(1);
  }

  10% {
    transform: scale(1.1) rotate(2deg);
  }

  20% {
    transform: scale(1) rotate(-2deg);
  }

  30% {
    transform: scale(1.1) rotate(0deg);
  }

  40% {
    transform: scale(1);
  }

  100% {
    transform: scale(1);
  }
}

/* 按鈕樣式 */
.load-more-btn {
  background-color: transparent;
  color: #ffffff;
  border: 2px solid #ffffff;
  padding: 12px 30px;
  font-size: 18px;
  font-weight: bold;
  border-radius: 50px;
  cursor: pointer;
  transition: all 0.3s ease;
  animation: heartBeat 3s infinite ease-in-out;
  /* 套用動畫 */
}

.load-more-btn:hover {
  animation-play-state: paused;
  /* 滑鼠移上去暫停動畫 */
  background-color: #ffffff;
  color: #d4433e;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.6);
}

@media (max-width: 1199px) {

  /* 隱藏標記的商品卡片 */
  .product-card.product-hidden {
    display: none !important;
  }

  /* 在 1200px 以下顯示按鈕 */
  .load-more-container {
    display: flex;
  }
}

/* 復古價錢標籤設計 */
.price-tag {
  position: absolute;
  /* 定位左下角 */
  bottom: 15px;
  left: -15px;
  /* 負值讓它向左凸出卡片邊界 */

  background-color: #e6c337;
  color: #d4433e;
  font-size: 22px;
  font-weight: 900;
  padding: 8px 18px;
  border: 3px solid #FDFFE9;
  border-radius: 4px;
  /* 調整旋轉角度 */
  transform: rotate(-10deg);
  box-shadow: 4px 4px 0px rgba(0, 0, 0, 0.2);

  z-index: 15;
  /* 確保在最上層 */
  pointer-events: none;
  letter-spacing: 1px;
  white-space: nowrap;
  /* 確保文字不換行 */
}

/* 確保凸出的標籤不被剪掉 */
.product-content,
.flip-box-inner,
.flip-front {
  overflow: visible !important;
  /* 必須設為 visible 標籤才能凸出來 */
}